<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ page.title | default: data.site.title | default: 'Flux Documentation' }}</title>
    <meta
      name="description"
      content="{{ page.excerpt | default: data.site.description | default: 'Flux - A minimal Vite-powered, LiquidJS-based static site generator' | strip_html | truncate: 160 }}"
    >

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" href="/favicon.png">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/assets/css/main.css">
    {% if page.css %}
      {% for href in page.css %}
        <link rel="stylesheet" href="{{ href }}">
      {% endfor %}
    {% endif %}
  </head>

  <body>
    <header class="site-header">
      <div class="header-container">
        <div class="header-brand">
          <a href="/" class="header-logo-link">
            <img src="/assets/img/flux-logo-color.svg" alt="Flux Logo" class="header-logo">
            <span class="header-title">{{ data.site.name | default: 'Flux' }}</span>
          </a>
        </div>

        <nav class="header-nav">
          <a href="/installation" class="header-nav-link">Documentation</a>
          <a href="https://github.com/zetafield/flux" target="_blank" rel="noopener" class="header-nav-link">GitHub</a>
          <button id="theme-toggle" class="theme-toggle">
            <svg class="theme-toggle-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
            </svg>
            <span class="sr-only">Toggle theme</span>
          </button>
        </nav>

        <!-- Mobile menu button -->
        <button id="mobile-menu-button" class="mobile-menu-button">
          <svg class="mobile-menu-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
          <span class="sr-only">Open menu</span>
        </button>
      </div>

      <!-- Mobile menu -->
      <div id="mobile-menu" class="mobile-menu">
        <div class="mobile-menu-content">
          <a href="/installation" class="mobile-nav-link">Documentation</a>
          <a href="https://github.com/zetafield/flux" target="_blank" rel="noopener" class="mobile-nav-link">GitHub</a>
        </div>
      </div>
    </header>

    <!-- Main content area -->
    <div class="main-container">
      <div class="layout-wrapper">
        <!-- Sidebar -->
        <aside class="sidebar">
          <div class="sidebar-content">
            <!-- Navigation -->
            {% include 'nav' %}
          </div>
        </aside>

        <!-- Main content -->
        <main id="main-content" class="main-content">
          <div class="content-wrapper">
            {% if page.title %}
              <!-- Page header -->
              <div class="page-header">
                <h1>{{ page.title }}</h1>
                {% if page.description %}
                  <p class="page-description">{{ page.description }}</p>
                {% endif %}
              </div>
            {% endif %}

            <!-- Content -->
            <div class="content">
              {% block content -%}
              {{- content -}}
              {%- endblock %}
            </div>

            <!-- Page navigation -->
            <div class="page-nav">
              <div class="page-nav-content">
                <div class="page-nav-item">
                  <!-- Previous page link would go here -->
                </div>
                <div class="page-nav-item page-nav-next">
                  <!-- Next page link would go here -->
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- Footer -->
    {% include 'footer' %}

    <script type="module" src="/assets/js/theme-switcher.js"></script>
    <script type="module" src="/assets/js/active-link.js"></script>
    <script type="module" src="/assets/js/mobile-menu.js"></script>
    {% if page.js %}
      {% for src in page.js %}
        <script type="module" src="{{ src }}"></script>
      {% endfor %}
    {% endif %}
  </body>
</html>
